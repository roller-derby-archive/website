{% extends 'base.html.twig' %}

{% block body %}
    <main id="club_list" class="rda-page rda-layout rda-grid">
        <aside class="rda-left-side-bar">
            {{ include('club/_filter.html.twig') }}
        </aside>
        <header class="rda-title-bar">
            <h1>Les associations ({{ total }})</h1>
        </header>
        <section class="rda-content">
            {% if total == 0 %}
                <p>Aucune association trouvée avec ces filtres.</p>
            {% else %}
                <ul class="region-list">{% for name, clubs in sortedClubs %}
                    <li>
                        <h2>{{ name }} ({{ clubs|length }})</h2>
                        <ul class="club-list">{% for club in clubs %}
                            <li>
                                <a href="{{ path('club_view', {id: club.id}) }}">
                                    {% if club.logo != null %}
                                        <img alt="{{ club.logo }}" src="{{ asset('images/'~club.logo) }}">
                                    {% else %}
                                        <img alt="logo-club" src=" https://placehold.co/200x200">
                                    {% endif %}
                                    <div>
                                        <p class="wiki-link">{{ club.Name }}{% if null != club.Alias %} ({{ club.alias }}){% endif %}{% if club.closedAt != null %}☠️{% endif %}</p>
                                        <p>{{ club.cities|join(', ') }}</p>
                                    </div>
                                </a>
                            </li>
                        {% endfor %}</ul>
                    </li>
                {% endfor %}</ul>
            {% endif %}
        </section>
        <aside class="rda-right-side-bar">
            {{ include('_menu_side_bar.html.twig', {disable: 'clubs'}) }}
        </aside>
    </main>
{% endblock %}
